/**
* Ajout d'un nouveau manga dans la base de donnée
*/
macroscript MangaInsert(
	@NotNull string titre,
	@NotNull string tome,
	string resume,
	@NotNull number idSerie,
	@NotNull boolean isLu,
	@NotNull boolean isAcquis
)
{
@@(database) INSERT INTO mangas VALUES (:{titre},:{tome},:{resume},:{idSerie},:{isLu},:{isAcquis});
}

/**
* Récupération de tout les mangas d'une série
*/
macroscript MangaGetAll(@NotNull number idSerie)
{
 var  mangas = @@(database) SELECT * FROM mangas WHERE idSerie = :{idSerie};
} broadcast { mangas } on channel __selfName

/**
* Récupération d'un manga via sont identifiant unique
*/
macroscript MangaGetById(@NotNull number idManga)
{
var manga = @@(database) SELECT * FROM mangas WHERE id = :{idManga};
} broadcast { manga } on channel __selfName

/**
* Mise à jour d'un manga
*/
macroscript MangaUpdateById(@NotNull number idManga,
	@NotNull string titre,
	@NotNull string tome,
	string resume,
	@NotNull number idSerie,
	@NotNull boolean isLu,
	@NotNull boolean isAcquis
)
{
@@(database) UPDATE mangas SET titre = :{titre}, tome = :{tome}, resume = :{resume}
                              ,idSerie=:{idSerie},isLu = :{isLu}, isAcquis=:{isAcquis} 
                              WHERE id = :{idManga};
}
/**
* Suppression d'un manga
*/ 
macroscript MangaDeleteById(@NotNull number idManga)
{
@@(database) DELETE FROM mangas WHERE id = :{idManga};
}